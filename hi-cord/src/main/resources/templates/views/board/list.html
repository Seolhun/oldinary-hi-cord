<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="/fragments/layout">
<head>
  <title>Spring Boot CRUD Example</title>
</head>
<body>
	<div layout:fragment="content">
	
	<!-- 게시판 목록 Data -->
	   <div class="container content">
            <div class="panel panel-success">
			  <div class="panel-heading">
			    <h3 class="panel-title">게시판</h3>
			  </div>
			  <a th:href="@{|/board/${tableName}/add|}"><button class="btn btn-success">글쓰기</button></a>
			     <div class="panel-body">
		              <table class="table table-bordered">
						<thead>
						   <tr class="btn-success">
						     <th>번호</th>
						     <th>구분</th>
						     <th>제목</th>
						     <th>작성자</th>
						     <th>작성일</th>
						     <th>조회수</th>
						     <th></th>
						   </tr>
						</thead>
						<tbody>
						     <tr th:if="${#lists.isEmpty(boards)}" class="btn-warning">
						        <td colspan="5" align="center">작성된 글이 없습니다.</td> 
						     </tr>
							  <tr th:each="i : ${boards}">
							    <td th:text="${i.id}"></td>
							    <td th:text="${i.boardType}"></td>
							    <td><a th:href="@{|/talk/${tableName}/detail/{id}|(id=${i.id})}" th:text="${i.subject}"></a></td>
							    <td th:text="${i.createdBy}"></td>
							    <td th:text="${i.creationDate}"></td>
							    <td th:text="${i.hits}"></td>
							    <td align="center">
							       <a th:href="@{|/talk/${tableName}/edit/{id}|(id=${i.id})}"><span class="glyphicon glyphicon-edit"></span></a> &nbsp; &nbsp;
							       <a th:href="@{|/talk/${tableName}/delete/{id}|(id=${i.id})}"><span class="glyphicon glyphicon-trash"></span></a>
							    </td>
<!-- 									    <td th:text="${i.replyListInBoard.content}"></td> -->
<!-- 											<tr th:if="${#lists.isEmpty(i.replyListInBoard)}" th:each="reply : ${#i.replyListInBoard}"> -->
<!-- 									   		<td th:text="${reply.content}"></td> -->
<!-- 									 		 </tr> -->
							  </tr>
<!--  									   <tr th:each="reply : ${#i.replyListInBoard}"> -->
<!-- 									   	<td th:text="${reply.content}"></td> -->
<!-- 									   </tr> -->
						</tbody>
					</table>
			      </div>
			</div>
			
			<!--  페이징 블록 Start -->						  
			<nav aria-label="Page navigation">
			  <ul class="pagination">
				<li>
					<span th:if="${paging.cPage == 1}">
						<a class="pagination-previous disabled">처음</a>
					</span>
					<span th:if="${paging.cPage != 1}">
						<a class="pagination-previous" th:href="@{|/board/${tableName}/list?cPage=1|}">처음</a>
					</span>
				</li>
				<li>
					<span th:if="${paging.cPage == 1}">
						<a class="pagination-previous disabled" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
					</span>
					<span th:if="${paging.cPage != 1}">
						<a class="pagination-previous" th:href="@{|/board/${tableName}/list?cPage=${paging.prev_cPage}|}" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
					</span>
				</li>
				
				<!-- Start 1,2,3..... -->
				<li>
					<a th:each="i : ${#numbers.sequence( paging.blockStartNo, paging.blockEndNo)}"
						th:value="${i}"
						th:text="${i}" th:href="@{|/board/${tableName}/list?cPage=${i}|}">
					</a>
				</li>	
				<!-- End 1,2,3.... -->
			    
				<li>
					<span th:if="${paging.cPage >= paging.next_cPage}">
						<a class="pagination-next disabled" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
					</span>
					<span th:if="${paging.cPage < paging.next_cPage}">
						<a class="pagination-next" th:href="@{|/board/${tableName}/list?cPage=${paging.next_cPage}|}" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
					</span>
				</li>
				<li>
					<span th:if="${paging.cPage >= paging.totalBlock}">
						<a class="pagination-next disabled" aria-label="Next">끝</a>
					</span>
					<span th:if="${paging.cPage < paging.totalBlock}">
						<a class="pagination-next" th:href="@{|/board/${tableName}/list?cPage=${paging.totalBlock}|}" aria-label="Next">끝</a>
					</span>
				</li>				    
			  </ul>
			</nav>	
			<!-- End 페이징 블록  -->
	   </div>
	   
		<script th:inline="javascript">
		/*<![CDATA[*/
		    var messege = [[${deleteBoard}]];
		/*]]>*/
		</script>
		<script type="text/javascript" src="/js/page/board_detail.js"></script>	   
	</div>
</body>
</html>